function [ D ] = feature_extraction(imageset, descr_type,descr_step_size)

    % Define the 4 classes
    classes = {'airplanes','motorbikes','faces','cars'};
    
    % For every image, get the descriptors with keypoint sampling
    D = [];
    for i=1:length(classes)
        filename = char(strcat(imageset, classes(i), '_train/' ));
        for j = 1:250
            imagename = strcat(filename,'img',num2str(j,'%.3d'),'.jpg');
            I = imread(imagename);
            if mod(j,50) == 0
                disp(strcat(num2str(j)))
            end
            [~, d] = descriptors(I, descr_type,descr_step_size);
            D = vertcat(D,d');
        end
    end
end

